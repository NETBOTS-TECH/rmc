(()=>{var e={};e.id=56,e.ids=[56],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},23259:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>i.a,__next_app__:()=>f,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>o}),t(18098),t(70893),t(81181),t(90996);var s=t(30170),r=t(45002),l=t(83876),i=t.n(l),n=t(66299),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(a,d);let o=["",{children:["admin",{children:["gallery",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,18098)),"D:\\rmc\\client\\app\\admin\\gallery\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,70893)),"D:\\rmc\\client\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,81181)),"D:\\rmc\\client\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\rmc\\client\\app\\admin\\gallery\\page.tsx"],m="/admin/gallery/page",f={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/gallery/page",pathname:"/admin/gallery",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2583:(e,a,t)=>{Promise.resolve().then(t.bind(t,71644))},28677:(e,a,t)=>{Promise.resolve().then(t.bind(t,93957))},71644:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>u});var s=t(97247),r=t(28964),l=t(58053),i=t(70170),n=t(27757),d=t(94002),o=t(7082),c=t(44597),m=t(98969),f=t(9985),p=t(94049);let x=`${process.env.BASE_URL}/api/gallery`,h=["Concrete Leveling","Foundation Repair","New Concrete","Basement WATERPROOFING","Egress Window"];function u(){let[e,a]=(0,r.useState)([]),[t,u]=(0,r.useState)(null),[g,y]=(0,r.useState)(!1),[j,b]=(0,r.useState)(null),[N,w]=(0,r.useState)({name:"",category:"",url:""}),v=async()=>{if(!t||!N.name||!N.category)return alert("All fields are required.");let e=new FormData;e.append("image",t),e.append("name",N.name),e.append("category",N.category);try{let t=localStorage.getItem("token"),s=await fetch(x,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:e});if(!s.ok)throw Error("Upload failed");let r=await s.json();a(e=>[r,...e]),w({name:"",category:"",url:""}),u(null),y(!1),(0,f.A)({title:"Success",description:"Gallery item added successfully"})}catch(e){console.error("Error uploading image:",e),alert("Failed to upload image.")}},k=async()=>{if(j)try{let e=localStorage.getItem("token");if(!(await fetch(`${x}/${j._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({name:j.name,category:j.category})})).ok)throw Error("Update failed");a(e=>e.map(e=>e._id===j._id?j:e)),b(null),y(!1),(0,f.A)({title:"Success",description:"Gallery item updated successfully"})}catch(e){console.error("Error updating image:",e)}},C=async e=>{try{let t=localStorage.getItem("token");await fetch(`${x}/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}}),a(a=>a.filter(a=>a._id!==e)),(0,f.A)({title:"Success",description:"Image deleted successfully"})}catch(e){console.error("Error deleting image:",e)}};return(0,s.jsxs)("div",{className:"p-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Gallery Management"}),s.jsx(l.z,{onClick:()=>{y(!0),b(null)},children:"Create Gallery"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-3 gap-6 mt-6",children:e.map(e=>(0,s.jsxs)(n.Zb,{className:"relative w-[300px] h-full shadow-lg rounded-2xl overflow-hidden transition-transform duration-300 hover:scale-105",children:[(0,s.jsxs)("div",{className:"absolute top-3 right-3 flex gap-2 z-10",children:[s.jsx(l.z,{size:"icon",className:"bg-blue-500 text-white hover:bg-blue-600 shadow-md",onClick:()=>{b(e),y(!0)},children:s.jsx(d.Z,{className:"h-5 w-5"})}),s.jsx(l.z,{size:"icon",className:"bg-red-500 text-white hover:bg-red-600 shadow-md",onClick:()=>C(e._id),children:s.jsx(o.Z,{className:"h-5 w-5"})})]}),s.jsx(c.default,{src:`${process.env.BASE_URL}${e.url}`,alt:e.name,width:320,height:200,className:"w-full h-[200px] object-cover"}),(0,s.jsxs)(n.aY,{className:"p-4 text-center",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:e.name}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.category})]})]},e._id))}),s.jsx(m.Vq,{open:g,onOpenChange:y,children:(0,s.jsxs)(m.cZ,{children:[s.jsx(m.fK,{children:s.jsx(m.$N,{children:j?"Update Gallery Item":"Create Gallery Item"})}),s.jsx(i.I,{type:"file",accept:"image/*",onChange:e=>u(e.target.files?.[0]||null)}),s.jsx(i.I,{placeholder:"Name",value:j?.name||N.name,onChange:e=>j?b({...j,name:e.target.value}):w({...N,name:e.target.value})}),(0,s.jsxs)(p.Ph,{value:j?.category||N.category,onValueChange:e=>j?b({...j,category:e}):w({...N,category:e}),children:[s.jsx(p.i4,{children:s.jsx(p.ki,{placeholder:"Select Category"})}),s.jsx(p.Bw,{children:h.map(e=>s.jsx(p.Ql,{value:e,children:e},e))})]}),s.jsx(m.cN,{children:j?s.jsx(l.z,{onClick:k,children:"Update"}):s.jsx(l.z,{onClick:v,children:"Create"})})]})})]})}},93957:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>b});var s=t(97247),r=t(28964),l=t(34178),i=t(79906),n=t(21697),d=t(29120),o=t(66903),c=t(57989),m=t(2791),f=t(90526),p=t(70405),x=t(20743),h=t(17316),u=t(19400),g=t(37013),y=t(6683),j=t(58053);function b({children:e}){let[a,t]=(0,r.useState)(!1),b=(0,l.usePathname)(),N=(0,l.useRouter)(),w=()=>{localStorage.removeItem("token"),N.push("/login")},v=[{icon:s.jsx(n.Z,{className:"h-5 w-5"}),label:"Dashboard",href:"/admin"},{icon:s.jsx(d.Z,{className:"h-5 w-5"}),label:"Services",href:"/admin/services"},{icon:s.jsx(o.Z,{className:"h-5 w-5"}),label:"Estimates",href:"/admin/estimates"},{icon:s.jsx(c.Z,{className:"h-5 w-5"}),label:"Contacts",href:"/admin/inquiries"},{icon:s.jsx(m.Z,{className:"h-5 w-5"}),label:"blogs",href:"/admin/blog"},{icon:s.jsx(f.Z,{className:"h-5 w-5"}),label:"Live Chat",href:"/admin/chat"},{icon:s.jsx(p.Z,{className:"h-5 w-5"}),label:"Gallery",href:"/admin/gallery"},{icon:s.jsx(x.Z,{className:"h-5 w-5"}),label:"Testimonials",href:"/admin/testimonials"},{icon:s.jsx(h.Z,{className:"h-5 w-5"}),label:"Settings",href:"/admin/settings"}];return(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row h-screen bg-gray-100",children:[(0,s.jsxs)("aside",{className:"hidden lg:flex flex-col w-64 bg-white border-r",children:[s.jsx("div",{className:"flex items-center justify-center h-16 border-b",children:s.jsx(i.default,{href:"/admin",className:"font-bold text-xl text-primary",children:"Admin Dashboard"})}),s.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:v.map((e,a)=>(0,s.jsxs)(i.default,{href:e.href,className:`flex items-center px-3 py-2 rounded-md text-sm font-medium mb-1 ${b===e.href?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"}`,children:[e.icon,s.jsx("span",{className:"ml-3",children:e.label})]},a))}),s.jsx("div",{className:"p-4 border-t",children:(0,s.jsxs)(j.z,{variant:"outline",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",onClick:w,children:[s.jsx(u.Z,{className:"h-5 w-5 mr-2"})," Logout"]})})]}),s.jsx("div",{className:"lg:hidden w-full",children:(0,s.jsxs)("div",{className:"bg-white border-b p-4 flex items-center justify-between",children:[s.jsx(i.default,{href:"/admin",className:"font-bold text-xl text-primary",children:"Admin Dashboard"}),s.jsx(j.z,{variant:"ghost",size:"icon",onClick:()=>t(!a),children:a?s.jsx(g.Z,{className:"h-6 w-6"}):s.jsx(y.Z,{className:"h-6 w-6"})})]})}),a&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/50",onClick:()=>t(!1),children:(0,s.jsxs)("div",{className:"absolute top-0 left-0 w-64 h-full bg-white p-4 shadow-lg transform transition-transform duration-300",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(i.default,{href:"/admin",className:"font-bold text-xl text-primary",children:"Admin Dashboard"}),s.jsx(j.z,{variant:"ghost",size:"icon",onClick:()=>t(!1),children:s.jsx(g.Z,{className:"h-5 w-5"})})]}),s.jsx("nav",{className:"space-y-1",children:v.map((e,a)=>(0,s.jsxs)(i.default,{href:e.href,className:`flex items-center px-3 py-2 rounded-md text-sm font-medium ${b===e.href?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"}`,children:[e.icon,s.jsx("span",{className:"ml-3",children:e.label})]},a))}),s.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:(0,s.jsxs)(j.z,{variant:"outline",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",onClick:w,children:[s.jsx(u.Z,{className:"h-5 w-5 mr-2"})," Logout"]})})]})}),s.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-4 sm:p-6 lg:p-8",children:e})]})}},27757:(e,a,t)=>{"use strict";t.d(a,{Ol:()=>n,SZ:()=>o,Zb:()=>i,aY:()=>c,eW:()=>m,ll:()=>d});var s=t(97247),r=t(28964),l=t(25008);let i=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));i.displayName="Card";let n=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...a}));n.displayName="CardHeader";let d=r.forwardRef(({className:e,...a},t)=>s.jsx("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));d.displayName="CardTitle";let o=r.forwardRef(({className:e,...a},t)=>s.jsx("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...a}));o.displayName="CardDescription";let c=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent";let m=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...a}));m.displayName="CardFooter"},98969:(e,a,t)=>{"use strict";t.d(a,{$N:()=>h,Vq:()=>d,cN:()=>x,cZ:()=>f,fK:()=>p,hg:()=>o});var s=t(97247),r=t(28964),l=t(50400),i=t(37013),n=t(25008);let d=l.fC,o=l.xz,c=l.h_;l.x8;let m=r.forwardRef(({className:e,...a},t)=>s.jsx(l.aV,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));m.displayName=l.aV.displayName;let f=r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(c,{children:[s.jsx(m,{}),(0,s.jsxs)(l.VY,{ref:r,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[a,(0,s.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(i.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));f.displayName=l.VY.displayName;let p=({className:e,...a})=>s.jsx("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});p.displayName="DialogHeader";let x=({className:e,...a})=>s.jsx("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});x.displayName="DialogFooter";let h=r.forwardRef(({className:e,...a},t)=>s.jsx(l.Dx,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));h.displayName=l.Dx.displayName,r.forwardRef(({className:e,...a},t)=>s.jsx(l.dk,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...a})).displayName=l.dk.displayName},70170:(e,a,t)=>{"use strict";t.d(a,{I:()=>i});var s=t(97247),r=t(28964),l=t(25008);let i=r.forwardRef(({className:e,type:a,...t},r)=>s.jsx("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));i.displayName="Input"},94049:(e,a,t)=>{"use strict";t.d(a,{Bw:()=>h,Ph:()=>c,Ql:()=>u,i4:()=>f,ki:()=>m});var s=t(97247),r=t(28964),l=t(52846),i=t(62513),n=t(45370),d=t(48799),o=t(25008);let c=l.fC;l.ZA;let m=l.B4,f=r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(l.xz,{ref:r,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[a,s.jsx(l.JO,{asChild:!0,children:s.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));f.displayName=l.xz.displayName;let p=r.forwardRef(({className:e,...a},t)=>s.jsx(l.u_,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:s.jsx(n.Z,{className:"h-4 w-4"})}));p.displayName=l.u_.displayName;let x=r.forwardRef(({className:e,...a},t)=>s.jsx(l.$G,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:s.jsx(i.Z,{className:"h-4 w-4"})}));x.displayName=l.$G.displayName;let h=r.forwardRef(({className:e,children:a,position:t="popper",...r},i)=>s.jsx(l.h_,{children:(0,s.jsxs)(l.VY,{ref:i,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...r,children:[s.jsx(p,{}),s.jsx(l.l_,{className:(0,o.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),s.jsx(x,{})]})}));h.displayName=l.VY.displayName,r.forwardRef(({className:e,...a},t)=>s.jsx(l.__,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=l.__.displayName;let u=r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(l.ck,{ref:r,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(l.wU,{children:s.jsx(d.Z,{className:"h-4 w-4"})})}),s.jsx(l.eT,{children:a})]}));u.displayName=l.ck.displayName,r.forwardRef(({className:e,...a},t)=>s.jsx(l.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=l.Z0.displayName},94002:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(26323).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},7082:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(26323).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},18098:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(45347).createProxy)(String.raw`D:\rmc\client\app\admin\gallery\page.tsx#default`)},70893:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(45347).createProxy)(String.raw`D:\rmc\client\app\admin\layout.tsx#default`)},57481:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});var s=t(54564);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[379,369,564,797,817,250],()=>t(23259));module.exports=s})();